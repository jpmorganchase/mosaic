---
title: Source Schedules
layout: DetailTechnical
sidebar:
  priority: 4
  label: Schedules
lastModified: 1701790133889
fullPath: /mosaic/configure/sources/schedules.mdx
route: /mosaic/configure/sources/schedules
breadcrumbs:
  - label: Mosaic
    path: /mosaic/index
    id: /mosaic/index.mdx
  - label: Configure
    path: /mosaic/configure/index
    id: /mosaic/configure/index.mdx
  - label: Sources
    path: /mosaic/configure/sources/index
    id: /mosaic/configure/sources/index.mdx
  - label: Schedules
    path: /mosaic/configure/sources/schedules
    id: /mosaic/configure/sources/schedules.mdx
readingTime:
  text: 3 min read
  minutes: 2.27
  time: 136200
  words: 454
tableOfContents:
  - level: 2
    id: configuration
    text: Configuration
  - level: 2
    id: global-schedule
    text: Global Schedule
  - level: 3
    id: example
    text: Example
  - level: 2
    id: retry-strategy
    text: Retry Strategy
navigation:
  prev:
    title: Storybook Source
    route: /mosaic/configure/sources/storybook-source
  next:
    title: Local Folder Source
    route: /mosaic/configure/sources/local-folder-source
sidebarData:
  - id: /mosaic/configure/index
    fullPath: /mosaic/configure/index.mdx
    name: Configure
    priority: 4
    data:
      level: 2
      link: /mosaic/configure/index
    childNodes: []
  - id: /mosaic/configure/modes/index
    fullPath: /mosaic/configure/modes/index.mdx
    name: Modes of operation
    priority: 4
    data:
      level: 3
      link: /mosaic/configure/modes/index
    childNodes:
      - id: /mosaic/configure/modes/active
        fullPath: /mosaic/configure/modes/active.mdx
        name: Active mode
        data:
          level: 3
          link: /mosaic/configure/modes/active
        childNodes: []
      - id: /mosaic/configure/modes/snapshot-file
        fullPath: /mosaic/configure/modes/snapshot-file.mdx
        name: Snapshot file mode
        data:
          level: 3
          link: /mosaic/configure/modes/snapshot-file
        childNodes: []
      - id: /mosaic/configure/modes/snapshot-s3
        fullPath: /mosaic/configure/modes/snapshot-s3.mdx
        name: Snapshot AWS/S3 mode
        data:
          level: 3
          link: /mosaic/configure/modes/snapshot-s3
        childNodes: []
  - id: /mosaic/configure/theme/index
    fullPath: /mosaic/configure/theme/index.mdx
    name: Theming Your Site
    priority: 4
    data:
      level: 3
      link: /mosaic/configure/theme/index
    childNodes:
      - id: /mosaic/configure/theme/custom-css
        fullPath: /mosaic/configure/theme/custom-css.mdx
        name: Custom CSS
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/theme/custom-css
        childNodes: []
      - id: /mosaic/configure/theme/custom-components
        fullPath: /mosaic/configure/theme/custom-components.mdx
        name: Custom Components
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/theme/custom-components
        childNodes: []
  - id: /mosaic/configure/admin/index
    fullPath: /mosaic/configure/admin/index.mdx
    name: Admin
    priority: 3
    data:
      level: 3
      link: /mosaic/configure/admin/index
    childNodes: []
  - id: /mosaic/configure/sources/index
    fullPath: /mosaic/configure/sources/index.mdx
    name: Sources
    priority: 3
    data:
      level: 3
      link: /mosaic/configure/sources/index
    childNodes:
      - id: /mosaic/configure/sources/storybook-figma
        fullPath: /mosaic/configure/sources/storybook-figma.mdx
        name: Figma
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/storybook-figma
        childNodes: []
      - id: /mosaic/configure/sources/storybook-readme
        fullPath: /mosaic/configure/sources/storybook-readme.mdx
        name: Readme Files
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/storybook-readme
        childNodes: []
      - id: /mosaic/configure/sources/storybook-source
        fullPath: /mosaic/configure/sources/storybook-source.mdx
        name: Storybook
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/storybook-source
        childNodes: []
      - id: /mosaic/configure/sources/schedules
        fullPath: /mosaic/configure/sources/schedules.mdx
        name: Schedules
        priority: 4
        data:
          level: 3
          link: /mosaic/configure/sources/schedules
        childNodes: []
      - id: /mosaic/configure/sources/local-folder-source
        fullPath: /mosaic/configure/sources/local-folder-source.mdx
        name: Local Folder Source
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/sources/local-folder-source
        childNodes: []
      - id: /mosaic/configure/sources/git-repo-source
        fullPath: /mosaic/configure/sources/git-repo-source.mdx
        name: Git Repo Source
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/sources/git-repo-source
        childNodes: []
      - id: /mosaic/configure/sources/http-source
        fullPath: /mosaic/configure/sources/http-source.mdx
        name: HTTP Source
        priority: 1
        data:
          level: 3
          link: /mosaic/configure/sources/http-source
        childNodes: []
  - id: /mosaic/configure/layouts/index
    fullPath: /mosaic/configure/layouts/index.mdx
    name: Layouts
    priority: 2
    data:
      level: 3
      link: /mosaic/configure/layouts/index
    childNodes:
      - id: /mosaic/configure/layouts/detail-highlight
        fullPath: /mosaic/configure/layouts/detail-highlight.mdx
        name: Detail Highlight
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-highlight
        childNodes: []
      - id: /mosaic/configure/layouts/detail-overview
        fullPath: /mosaic/configure/layouts/detail-overview.mdx
        name: Detail Overview
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-overview
        childNodes: []
      - id: /mosaic/configure/layouts/detail-technical
        fullPath: /mosaic/configure/layouts/detail-technical.mdx
        name: Detail Technical
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-technical
        childNodes: []
      - id: /mosaic/configure/layouts/landing
        fullPath: /mosaic/configure/layouts/landing.mdx
        name: Landing Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/landing
        childNodes: []
      - id: /mosaic/configure/layouts/product-discover
        fullPath: /mosaic/configure/layouts/product-discover.mdx
        name: Product Discover Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/product-discover
        childNodes: []
      - id: /mosaic/configure/layouts/product-preview
        fullPath: /mosaic/configure/layouts/product-preview.mdx
        name: Product Preview Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/product-preview
        childNodes: []
  - id: /mosaic/configure/plugins/index
    fullPath: /mosaic/configure/plugins/index.mdx
    name: Plugins
    priority: 1
    data:
      level: 3
      link: /mosaic/configure/plugins/index
    childNodes:
      - id: /mosaic/configure/plugins/lifecycle/index
        fullPath: /mosaic/configure/plugins/lifecycle/index.mdx
        name: Lifecycle Events
        priority: 1
        data:
          level: 4
          link: /mosaic/configure/plugins/lifecycle/index
        childNodes:
          - id: /mosaic/configure/plugins/lifecycle/after-source
            fullPath: /mosaic/configure/plugins/lifecycle/after-source.mdx
            name: $afterSource
            priority: 5
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/after-source
            childNodes: []
          - id: /mosaic/configure/plugins/lifecycle/before-send
            fullPath: /mosaic/configure/plugins/lifecycle/before-send.mdx
            name: $beforeSend
            priority: 4
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/before-send
            childNodes: []
          - id: /mosaic/configure/plugins/lifecycle/after-update
            fullPath: /mosaic/configure/plugins/lifecycle/after-update.mdx
            name: afterUpdate
            priority: 3
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/after-update
            childNodes: []
          - id: /mosaic/configure/plugins/lifecycle/should-clear-cache
            fullPath: /mosaic/configure/plugins/lifecycle/should-clear-cache.mdx
            name: shouldClearCache
            priority: 2
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/should-clear-cache
            childNodes: []
          - id: >-
              /mosaic/configure/plugins/lifecycle/should-update-namespace-sources
            fullPath: >-
              /mosaic/configure/plugins/lifecycle/should-update-namespace-sources.mdx
            name: shouldUpdateNamespaceSources
            priority: 1
            data:
              level: 4
              link: >-
                /mosaic/configure/plugins/lifecycle/should-update-namespace-sources
            childNodes: []
      - id: /mosaic/configure/plugins/alias-plugin
        fullPath: /mosaic/configure/plugins/alias-plugin.mdx
        name: $AliasPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/alias-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/breadcrumbs-plugin
        fullPath: /mosaic/configure/plugins/breadcrumbs-plugin.mdx
        name: BreadcrumbsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/breadcrumbs-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/broken-links-plugin
        fullPath: /mosaic/configure/plugins/broken-links-plugin.mdx
        name: BrokenLinksPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/broken-links-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/codemod-plugin
        fullPath: /mosaic/configure/plugins/codemod-plugin.mdx
        name: $CodeModPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/codemod-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/lazy-page-plugin
        fullPath: /mosaic/configure/plugins/lazy-page-plugin.mdx
        name: LazyPagePlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/lazy-page-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/pages-wthout-extensions-plugin
        fullPath: /mosaic/configure/plugins/pages-wthout-extensions-plugin.mdx
        name: PagesWithoutFileExtPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/pages-wthout-extensions-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/public-assets-plugin
        fullPath: /mosaic/configure/plugins/public-assets-plugin.mdx
        name: PublicAssetsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/public-assets-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/reading-time-plugin
        fullPath: /mosaic/configure/plugins/reading-time-plugin.mdx
        name: ReadingTimePlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/reading-time-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/ref-plugin
        fullPath: /mosaic/configure/plugins/ref-plugin.mdx
        name: $RefPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/ref-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/search-index-plugin
        fullPath: /mosaic/configure/plugins/search-index-plugin.mdx
        name: SearchIndexPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/search-index-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/shared-config-plugin
        fullPath: /mosaic/configure/plugins/shared-config-plugin.mdx
        name: SharedConfigPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/shared-config-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/sidebar-plugin
        fullPath: /mosaic/configure/plugins/sidebar-plugin.mdx
        name: SidebarPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/sidebar-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/site-map-plugin
        fullPath: /mosaic/configure/plugins/site-map-plugin.mdx
        name: SiteMapPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/site-map-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/tag-plugin
        fullPath: /mosaic/configure/plugins/tag-plugin.mdx
        name: $TagPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/tag-plugin
        childNodes: []
      - id: /mosaic/configure/plugins/toc-plugin
        fullPath: /mosaic/configure/plugins/toc-plugin.mdx
        name: TableOfContentsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/toc-plugin
        childNodes: []
---
# {meta.title}

A source schedule defines how often a source initiates a content pull and what to do when there is a failure.

A schedule can be specified for each source in the source definition, but should a source not provide a schedule it will inherit the "global" schedule.

## Configuration

| Property          | Description                                                                            | Required | Default |
| ----------------- | -------------------------------------------------------------------------------------- | -------- | ------- |
| checkIntervalMins | The length of time in minutes before triggering a content refresh                      | Yes      | 30 mins |
| initialDelayMs    | Startup delay for the source.                                                          | Yes      | 1000 ms |
| retryEnabled      | When true, failures will trigger another content pull                                  | No       | true    |
| retryDelayMins    | The interval between retries. This will rise exponentially on every failure.           | No       | 5       |
| maxRetries        | Maximum number of retry attempts                                                       | No       | 100     |
| resetOnSuccess    | If true, when a source recovers and emits pages it's retry counter is returned to zero | No       | true    |

## Global Schedule

The global schedule applies to all sources that do **not** provide their own schedule. It can be configured as a top-level property of the Mosaic config file.

```json
 schedule: {
    checkIntervalMins: 60,
    initialDelayMs: 1000,
    retryDelayMins: 15,
    maxRetries: 20
  }
```

### Example

Given the config file below:

```json
 schedule: {
    checkIntervalMins: 30,
    initialDelayMs: 1000,
    retryDelayMins: 5,
    maxRetries: 10
  },
  sources: [
    {
      modulePath: '@jpmorganchase/mosaic-source-git-repo',
      namespace: 'sourceA',
      options: {
        credentials: 'credentials',
        prefixDir: 'sourceA',
        subfolder: 'docs',
        repo: 'source-a-repo-url',
        branch: 'develop',
        extensions: ['.mdx'],
        remote: 'origin'
      }
    },
    {
      modulePath: '@jpmorganchase/mosaic-source-git-repo',
      namespace: 'sourceB',
      schedule:{
        checkIntervalMins: 60,
        initialDelayMs: 5000,
        retryDelayMins: 30,
        maxRetries: 50
      }
      options: {
        credentials: 'credentials',
        prefixDir: 'sourceB',
        subfolder: 'docs',
        repo: 'source-b-repo-url',
        branch: 'develop',
        extensions: ['.mdx'],
        remote: 'origin'
      }
    }
  ]
```

Source A will inherit the global schedule so it will:

*   Start after a 1 second delay
*   Pull content every 30 minutes
*   Retry a failed content pull after an initial 5 minute delay
*   Retry 10 times and if still unsuccessful, closing

Source B has its own schedule so it will:

*   Start after a 5 second delay
*   Pull content every 60 minutes
*   Retry a failed content pull after an initial 30 minute delay
*   Retry 50 times and if still unsuccessful, closing

## Retry Strategy

The retry strategy that Mosaic employs is [Exponential Backoff](https://en.wikipedia.org/wiki/Exponential_backoff). This is a common strategy for networking applications that aims to prevent retries from causing more harm than good.

For example, given a source schedule that has a 1 minute retry delay and will retry a maximum of 3 times then the total time spent retrying is 7 minutes:

*   1 minute delay then 1st retry
*   2 minute delay then 2nd retry
*   4 minute delay then 3rd (and final) retry

Total delay: 1 + 2 + 4 = 7 minutes

As you can see, the delay between retries is growing exponentially giving the content source more time to recover after each retry.
