---
title: Snapshot AWS/S3 mode
layout: DetailTechnical
lastModified: 1680534781751
fullPath: /mosaic/configure/modes/snapshot-s3.mdx
route: /mosaic/configure/modes/snapshot-s3
breadcrumbs:
  - label: Mosaic
    path: /mosaic/index.mdx
    id: /mosaic/index.mdx
  - label: Configure
    path: /mosaic/configure/index.mdx
    id: /mosaic/configure/index.mdx
  - label: Modes of operation
    path: /mosaic/configure/modes/index.mdx
    id: /mosaic/configure/modes/index.mdx
  - label: Snapshot AWS/S3 mode
    path: /mosaic/configure/modes/snapshot-s3.mdx
    id: /mosaic/configure/modes/snapshot-s3.mdx
readingTime:
  text: 1 min read
  minutes: 0.335
  time: 20100
  words: 67
tableOfContents:
  - level: 1
    id: snapshot-awss3-mode
    text: Snapshot AWS/S3 mode
  - level: 2
    id: generating-a-snapshot
    text: Generating a snapshot
  - level: 2
    id: uploading-a-snapshot-to-s3
    text: Uploading a snapshot to S3
navigation:
  prev:
    title: Snapshot file mode
    route: /mosaic/configure/modes/snapshot-file
  next:
    title: Sources
    route: /mosaic/configure/sources/index
sidebarData:
  - id: /mosaic/configure/index
    fullPath: /mosaic/configure/index.mdx
    name: Configure
    priority: 4
    data:
      level: 2
      link: /mosaic/configure/index
    childNodes:
      - id: /mosaic/configure/modes/index
        fullPath: /mosaic/configure/modes/index.mdx
        name: Modes of operation
        priority: 4
        data:
          level: 3
          link: /mosaic/configure/modes/index
        childNodes:
          - id: /mosaic/configure/modes/active
            fullPath: /mosaic/configure/modes/active.mdx
            name: Active mode
            data:
              level: 3
              link: /mosaic/configure/modes/active
            childNodes: []
          - id: /mosaic/configure/modes/snapshot-file
            fullPath: /mosaic/configure/modes/snapshot-file.mdx
            name: Snapshot file mode
            data:
              level: 3
              link: /mosaic/configure/modes/snapshot-file
            childNodes: []
          - id: /mosaic/configure/modes/snapshot-s3
            fullPath: /mosaic/configure/modes/snapshot-s3.mdx
            name: Snapshot AWS/S3 mode
            data:
              level: 3
              link: /mosaic/configure/modes/snapshot-s3
            childNodes: []
      - id: /mosaic/configure/sources/index
        fullPath: /mosaic/configure/sources/index.mdx
        name: Sources
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/sources/index
        childNodes:
          - id: /mosaic/configure/sources/local-folder-source
            fullPath: /mosaic/configure/sources/local-folder-source.mdx
            name: Local Folder Source
            priority: 3
            data:
              level: 3
              link: /mosaic/configure/sources/local-folder-source
            childNodes: []
          - id: /mosaic/configure/sources/git-repo-source
            fullPath: /mosaic/configure/sources/git-repo-source.mdx
            name: Git Repo Source
            priority: 2
            data:
              level: 3
              link: /mosaic/configure/sources/git-repo-source
            childNodes: []
          - id: /mosaic/configure/sources/http-source
            fullPath: /mosaic/configure/sources/http-source.mdx
            name: HTTP Source
            priority: 1
            data:
              level: 3
              link: /mosaic/configure/sources/http-source
            childNodes: []
      - id: /mosaic/configure/layouts/index
        fullPath: /mosaic/configure/layouts/index.mdx
        name: Layouts
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/layouts/index
        childNodes: []
      - id: /mosaic/configure/plugins/index
        fullPath: /mosaic/configure/plugins/index.mdx
        name: Plugins
        priority: 1
        data:
          level: 3
          link: /mosaic/configure/plugins/index
        childNodes:
          - id: /mosaic/configure/plugins/after-source
            fullPath: /mosaic/configure/plugins/after-source.mdx
            name: Lifecycle - $afterSource
            data:
              level: 3
              link: /mosaic/configure/plugins/after-source
            childNodes: []
          - id: /mosaic/configure/plugins/after-update
            fullPath: /mosaic/configure/plugins/after-update.mdx
            name: Lifecycle - afterUpdate
            data:
              level: 3
              link: /mosaic/configure/plugins/after-update
            childNodes: []
          - id: /mosaic/configure/plugins/before-send
            fullPath: /mosaic/configure/plugins/before-send.mdx
            name: Lifecycle - $beforeSend
            data:
              level: 3
              link: /mosaic/configure/plugins/before-send
            childNodes: []
          - id: /mosaic/configure/plugins/should-clear-cache
            fullPath: /mosaic/configure/plugins/should-clear-cache.mdx
            name: Lifecycle - shouldClearCache
            data:
              level: 3
              link: /mosaic/configure/plugins/should-clear-cache
            childNodes: []
---

# {meta.title}

In `snapshot-s3` mode a snapshot can be loaded from a pre-configured AWS S3 bucket.

To use `snapshot-s3` mode

```
> export MOSAIC_MODE="snapshot-s3"
> MOSAIC_S3_BUCKET="<your S3 bucket id>"
> MOSAIC_S3_REGION="<your S3 region>"
> MOSAIC_S3_ACCESS_KEY_ID="<your S3 access key>"
> MOSAIC_S3_SECRET_ACCESS_KEY="<your S3 secret access key>"
```

## Generating a snapshot

To generate a snapshot, run

```
yarn gen:snapshot
```

## Uploading a snapshot to S3

To upload a snapshot to S3, define the required environment variables and run

```
yarn mosaic upload -S <path to snapshot file>
```
