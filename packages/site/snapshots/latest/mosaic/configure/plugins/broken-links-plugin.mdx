---
title: BrokenLinksPlugin
layout: DetailOverview
lastModified: 1762156634245
fullPath: /mosaic/configure/plugins/broken-links-plugin.mdx
route: /mosaic/configure/plugins/broken-links-plugin
breadcrumbs:
  - label: Configure
    path: /mosaic/configure/index
    id: /mosaic/configure/index.mdx
  - label: Plugins
    path: /mosaic/configure/plugins/index
    id: /mosaic/configure/plugins/index.mdx
sidebar:
  label: BrokenLinksPlugin
  groupLabel: BrokenLinksPlugin
readingTime:
  text: 2 min read
  minutes: 1.305
  time: 78300
  words: 261
tableOfContents:
  - depth: 2
    level: 0
    id: priority
    text: Priority
  - depth: 2
    level: 0
    id: options
    text: Options
  - depth: 2
    level: 0
    id: adding-to-mosaic
    text: Adding to Mosaic
  - depth: 2
    level: 0
    id: example-output
    text: Example Output
navigation:
  prev:
    title: BreadcrumbsPlugin
    route: /mosaic/configure/plugins/breadcrumbs-plugin
    group: Plugins
  next:
    title: $CodeModPlugin
    route: /mosaic/configure/plugins/codemod-plugin
    group: Plugins
sidebarData:
  - id: /mosaic/configure/index
    kind: data
    fullPath: /mosaic/configure/index.mdx
    name: Configure
    priority: 4
    data:
      level: 2
      link: /mosaic/configure/index
  - id: /mosaic/configure/modes
    kind: group
    childNodes:
      - id: /mosaic/configure/modes/index
        kind: data
        fullPath: /mosaic/configure/modes/index.mdx
        name: Modes of operation
        priority: 4
        data:
          level: 3
          link: /mosaic/configure/modes/index
      - id: /mosaic/configure/modes/active
        kind: data
        fullPath: /mosaic/configure/modes/active.mdx
        name: Active mode
        data:
          level: 3
          link: /mosaic/configure/modes/active
      - id: /mosaic/configure/modes/snapshot-file
        kind: data
        fullPath: /mosaic/configure/modes/snapshot-file.mdx
        name: Snapshot file mode
        data:
          level: 3
          link: /mosaic/configure/modes/snapshot-file
      - id: /mosaic/configure/modes/snapshot-s3
        kind: data
        fullPath: /mosaic/configure/modes/snapshot-s3.mdx
        name: Snapshot AWS/S3 mode
        data:
          level: 3
          link: /mosaic/configure/modes/snapshot-s3
    name: Modes of operation
    priority: 4
  - id: /mosaic/configure/theme
    kind: group
    childNodes:
      - id: /mosaic/configure/theme/index
        kind: data
        fullPath: /mosaic/configure/theme/index.mdx
        name: Theming Your Site
        priority: 4
        data:
          level: 3
          link: /mosaic/configure/theme/index
      - id: /mosaic/configure/theme/custom-css
        kind: data
        fullPath: /mosaic/configure/theme/custom-css.mdx
        name: Custom CSS
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/theme/custom-css
      - id: /mosaic/configure/theme/custom-components
        kind: data
        fullPath: /mosaic/configure/theme/custom-components.mdx
        name: Custom Components
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/theme/custom-components
    name: Theming Your Site
    priority: 4
  - id: /mosaic/configure/admin
    kind: group
    childNodes:
      - id: /mosaic/configure/admin/index
        kind: data
        fullPath: /mosaic/configure/admin/index.mdx
        name: Admin
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/admin/index
    name: Admin
    priority: 3
  - id: /mosaic/configure/sources
    kind: group
    childNodes:
      - id: /mosaic/configure/sources/source-figma
        kind: data
        fullPath: /mosaic/configure/sources/source-figma.mdx
        name: Figma
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/source-figma
      - id: /mosaic/configure/sources/source-readme
        kind: data
        fullPath: /mosaic/configure/sources/source-readme.mdx
        name: Readme Files
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/source-readme
      - id: /mosaic/configure/sources/source-storybook
        kind: data
        fullPath: /mosaic/configure/sources/source-storybook.mdx
        name: Storybook
        priority: 5
        data:
          level: 3
          link: /mosaic/configure/sources/source-storybook
      - id: /mosaic/configure/sources/schedules
        kind: data
        fullPath: /mosaic/configure/sources/schedules.mdx
        name: Schedules
        priority: 4
        data:
          level: 3
          link: /mosaic/configure/sources/schedules
      - id: /mosaic/configure/sources/index
        kind: data
        fullPath: /mosaic/configure/sources/index.mdx
        name: Sources
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/sources/index
      - id: /mosaic/configure/sources/local-folder-source
        kind: data
        fullPath: /mosaic/configure/sources/local-folder-source.mdx
        name: Local Folder Source
        priority: 3
        data:
          level: 3
          link: /mosaic/configure/sources/local-folder-source
      - id: /mosaic/configure/sources/git-repo-source
        kind: data
        fullPath: /mosaic/configure/sources/git-repo-source.mdx
        name: Git Repo Source
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/sources/git-repo-source
      - id: /mosaic/configure/sources/http-source
        kind: data
        fullPath: /mosaic/configure/sources/http-source.mdx
        name: HTTP Source
        priority: 1
        data:
          level: 3
          link: /mosaic/configure/sources/http-source
    name: Sources
    priority: 3
  - id: /mosaic/configure/layouts
    kind: group
    childNodes:
      - id: /mosaic/configure/layouts/index
        kind: data
        fullPath: /mosaic/configure/layouts/index.mdx
        name: Layouts
        priority: 2
        data:
          level: 3
          link: /mosaic/configure/layouts/index
      - id: /mosaic/configure/layouts/detail-highlight
        kind: data
        fullPath: /mosaic/configure/layouts/detail-highlight.mdx
        name: Detail Highlight
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-highlight
      - id: /mosaic/configure/layouts/detail-overview
        kind: data
        fullPath: /mosaic/configure/layouts/detail-overview.mdx
        name: Detail Overview
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-overview
      - id: /mosaic/configure/layouts/detail-technical
        kind: data
        fullPath: /mosaic/configure/layouts/detail-technical.mdx
        name: Detail Technical
        data:
          level: 3
          link: /mosaic/configure/layouts/detail-technical
      - id: /mosaic/configure/layouts/landing
        kind: data
        fullPath: /mosaic/configure/layouts/landing.mdx
        name: Landing Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/landing
      - id: /mosaic/configure/layouts/product-discover
        kind: data
        fullPath: /mosaic/configure/layouts/product-discover.mdx
        name: Product Discover Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/product-discover
      - id: /mosaic/configure/layouts/product-preview
        kind: data
        fullPath: /mosaic/configure/layouts/product-preview.mdx
        name: Product Preview Layout
        data:
          level: 3
          link: /mosaic/configure/layouts/product-preview
    name: Layouts
    priority: 2
  - id: /mosaic/configure/plugins
    kind: group
    childNodes:
      - id: /mosaic/configure/plugins/index
        kind: data
        fullPath: /mosaic/configure/plugins/index.mdx
        name: Plugins
        priority: 1
        data:
          level: 3
          link: /mosaic/configure/plugins/index
      - id: /mosaic/configure/plugins/lifecycle
        kind: group
        childNodes:
          - id: /mosaic/configure/plugins/lifecycle/after-source
            kind: data
            fullPath: /mosaic/configure/plugins/lifecycle/after-source.mdx
            name: $afterSource
            priority: 5
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/after-source
          - id: /mosaic/configure/plugins/lifecycle/before-send
            kind: data
            fullPath: /mosaic/configure/plugins/lifecycle/before-send.mdx
            name: $beforeSend
            priority: 4
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/before-send
          - id: /mosaic/configure/plugins/lifecycle/after-update
            kind: data
            fullPath: /mosaic/configure/plugins/lifecycle/after-update.mdx
            name: afterUpdate
            priority: 3
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/after-update
          - id: /mosaic/configure/plugins/lifecycle/should-clear-cache
            kind: data
            fullPath: /mosaic/configure/plugins/lifecycle/should-clear-cache.mdx
            name: shouldClearCache
            priority: 2
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/should-clear-cache
          - id: /mosaic/configure/plugins/lifecycle/index
            kind: data
            fullPath: /mosaic/configure/plugins/lifecycle/index.mdx
            name: Lifecycle Events
            priority: 1
            data:
              level: 4
              link: /mosaic/configure/plugins/lifecycle/index
          - id: >-
              /mosaic/configure/plugins/lifecycle/should-update-namespace-sources
            kind: data
            fullPath: >-
              /mosaic/configure/plugins/lifecycle/should-update-namespace-sources.mdx
            name: shouldUpdateNamespaceSources
            priority: 1
            data:
              level: 4
              link: >-
                /mosaic/configure/plugins/lifecycle/should-update-namespace-sources
        name: Lifecycle Events
        priority: 1
      - id: /mosaic/configure/plugins/alias-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/alias-plugin.mdx
        name: $AliasPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/alias-plugin
      - id: /mosaic/configure/plugins/breadcrumbs-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/breadcrumbs-plugin.mdx
        name: BreadcrumbsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/breadcrumbs-plugin
      - id: /mosaic/configure/plugins/broken-links-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/broken-links-plugin.mdx
        name: BrokenLinksPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/broken-links-plugin
      - id: /mosaic/configure/plugins/codemod-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/codemod-plugin.mdx
        name: $CodeModPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/codemod-plugin
      - id: /mosaic/configure/plugins/document-assets-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/document-assets-plugin.mdx
        name: DocumentAssetsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/document-assets-plugin
      - id: /mosaic/configure/plugins/lazy-page-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/lazy-page-plugin.mdx
        name: LazyPagePlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/lazy-page-plugin
      - id: /mosaic/configure/plugins/pages-wthout-extensions-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/pages-wthout-extensions-plugin.mdx
        name: PagesWithoutFileExtPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/pages-wthout-extensions-plugin
      - id: /mosaic/configure/plugins/public-assets-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/public-assets-plugin.mdx
        name: PublicAssetsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/public-assets-plugin
      - id: /mosaic/configure/plugins/reading-time-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/reading-time-plugin.mdx
        name: ReadingTimePlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/reading-time-plugin
      - id: /mosaic/configure/plugins/ref-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/ref-plugin.mdx
        name: $RefPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/ref-plugin
      - id: /mosaic/configure/plugins/search-index-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/search-index-plugin.mdx
        name: SearchIndexPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/search-index-plugin
      - id: /mosaic/configure/plugins/shared-config-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/shared-config-plugin.mdx
        name: SharedConfigPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/shared-config-plugin
      - id: /mosaic/configure/plugins/sidebar-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/sidebar-plugin.mdx
        name: SidebarPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/sidebar-plugin
      - id: /mosaic/configure/plugins/site-map-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/site-map-plugin.mdx
        name: SiteMapPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/site-map-plugin
      - id: /mosaic/configure/plugins/tag-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/tag-plugin.mdx
        name: $TagPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/tag-plugin
      - id: /mosaic/configure/plugins/toc-plugin
        kind: data
        fullPath: /mosaic/configure/plugins/toc-plugin.mdx
        name: TableOfContentsPlugin
        data:
          level: 3
          link: /mosaic/configure/plugins/toc-plugin
    name: Plugins
    priority: 1
---
# {meta.title}

The `BrokenLinksPlugin` will identify any broken links in pages Mosaic has pulled into it's filesystem by making use of the [check-links](https://www.npmjs.com/package/check-links) package.

It can identify broken links between the pages themselves and external links that pages link out to.

What this plugin is really checking is "liveness" of a link.

* alive if the URL is reachable (2XX status code)
* dead if the URL is not reachable
* invalid if the URL was parsed as invalid or used an unsupported protocol

<Callout variant="warning">
  Links may be "alive", but the **content** of the linked page may not be what you want so continue
  to check links show what you expect.
</Callout>

## Priority

This plugin runs with no special priority.

## Options

| Property      | Description                                                                                                                       |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| baseUrl       | This is used to calculate the full url for links between pages. It should be the url Mosaic is running on                         |
| proxyEndpoint | If you are behind a corporate proxy, external link checking will not work unless you specify the proxy endpoint using this option |

## Adding to Mosaic

Add to the `plugins` collection:

```js
plugins: [
  {
    modulePath: '@jpmorganchase/mosaic-plugins/BrokenLinksPlugin',
    priority: -1,
    // Exclude this plugin in builds
    runTimeOnly: true,
    options: {
      baseUrl: process.env.MOSAIC_ACTIVE_MODE_URL || 'http://localhost:8080',
      proxyEndpoint: 'http://some-proxy-url'
    }
  }
  // other plugins
];
```

<Callout>
  This plugin needs to be a `runtimeOnly` plugin because it needs Mosaic to be running in order to
  make requests to all of the page links.
</Callout>

## Example Output

When a link is found to be broken, you will see the following output in the console:

```
@jpmorganchase/mosaic-site:serve: 8080 [Mosaic] Broken links found in /local/docs/publish-site-to-vercel.mdx
@jpmorganchase/mosaic-site:serve: 8080   Link to https://nextjs.org/davie is dead {
@jpmorganchase/mosaic-site:serve: 8080     type: 'link',
@jpmorganchase/mosaic-site:serve: 8080     title: null,
@jpmorganchase/mosaic-site:serve: 8080     url: 'https://nextjs.org/davie',
@jpmorganchase/mosaic-site:serve: 8080     children: [ { type: 'text', value: 'Next.Js', position: [Object] } ],
@jpmorganchase/mosaic-site:serve: 8080     position: {
@jpmorganchase/mosaic-site:serve: 8080       start: { line: 4, column: 20, offset: 36 },
@jpmorganchase/mosaic-site:serve: 8080       end: { line: 4, column: 55, offset: 71 }
@jpmorganchase/mosaic-site:serve: 8080     }
@jpmorganchase/mosaic-site:serve: 8080   }
```
