import{create as H,linkHorizontal as T,tree as A}from"d3";function $(n,{label:o=null,title:c=null,width:a=640,height:u=void 0,r:x=3,padding:f=1,fill:y="#999",stroke:p="#555",strokeWidth:m=1.5,strokeOpacity:b=.4,strokeLinejoin:w=void 0,strokeLinecap:v=void 0,halo:j="#fff",haloWidth:z=3}={}){let L=n.descendants(),h=o==null?null:L.map(t=>o(t.data,t)),r=20,k=a/(n.height+f);A().nodeSize([r,k])(n);let e=1/0,i=-e;n.each(t=>{t.x>i&&(i=t.x),t.x<e&&(e=t.x)});let g=u===void 0?i-e+r*2:u,l=H("svg").attr("viewBox",[-k*f/2,e-r,a,g]).attr("width",a).attr("height",g).attr("style","max-width: 100%; height: auto; overflow: visible;").attr("font-family","sans-serif").attr("font-size",10);l.append("g").attr("fill","none").attr("stroke",p).attr("stroke-opacity",b).attr("stroke-linecap",v).attr("stroke-linejoin",w).attr("stroke-width",m).selectAll("path").data(n.links()).join("path").attr("d",T().x(t=>t.y).y(t=>t.x));let s=l.append("g").selectAll("a").data(n.descendants()).join("a").attr("transform",t=>`translate(${t.y},${t.x})`);return s.append("circle").attr("fill",t=>t.children?p:y).attr("r",x),c!=null&&s.append("title").text(t=>c(t.data,t)),h&&s.append("text").attr("dy","0.32em").attr("x",t=>t.children?-6:6).attr("text-anchor",t=>t.children?"end":"start").attr("paint-order","stroke").attr("stroke",j).attr("stroke-width",z).text((t,d)=>h[d]).on("click",(t,d)=>{let{data:_}=d.data;window.open(_.link,"_blank")}).style("cursor","pointer"),l}export{$ as drawTree};
