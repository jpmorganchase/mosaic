---
title: Create a Site
layout: DetailTechnical
sidebar:
  priority: 8
---

# {meta.title}

In this guide you will learn how to generate and serve a Mosaic site.

## Prerequisites

To begin setting up a Mosaic site, you need to have the following software installed:

1. Yarn v1
2. Node.js v18 or higher

## Step 1: Set Up a Mosaic Site

You can copy the `site` directory from this repository into your project. The site directory is a standard Next.js app that loads the packages created by this repo, with an additional `mosaic-config.mjs` file to configure sources and other settings.

**Steps:**

1. Copy the `site` directory from this repository to your desired location (outside of this repo, such as your own project root).
2. Configure the contents of the `site` directory as needed.
   - Update `mosaic-config.mjs` to specify your content sources and other options.
   - A local source is used to serve pages from the local file-system, which can be a clone of a remote repo.
   - A remote source is used to pull content from a remote Git repository.

```
sources: [
{
    disabled: process.env.NODE_ENV !== 'development',
    modulePath: '@jpmorganchase/mosaic-source-local-folder',
    namespace: 'local', // each site has its own namespace, think of this as your content's uid
    options: {
      rootDir: '../../docs', // relative path to content, which can be a clone of another repo
      prefixDir: 'local', // root path used for namespace
      extensions: ['.mdx'] // extensions of content which should be pulled
    }
 },
 {
   modulePath: '@jpmorganchase/mosaic-source-git-repo',
   namespace: 'remote', // each site has its own namespace, think of this as your content's uid
   options: {
     // To run a local instance that accesses remote repos, enter your credentials to access the BitBucket/GitHub repo
     // !! Polite Reminder... do not store credentials in code !!
     // For final deployments, you could put repo access credentials securely in environment variables provided by Gaia console.
     // credentials: "{process.env.FID}:{process.env.FID_PERSONAL_ACCESS_TOKEN}",
     // If running locally
     // create an environment variable like MOSAIC_DOCS_CLONE_CREDENTIALS to let the user define it via the CLI
     // export MOSAIC_DOCS_CLONE_CREDENTIALS="<sid>:<Personal Access Token (PAT) provided by your Repo OR password>",
     credentials: process.env.MOSAIC_DOCS_CLONE_CREDENTIALS,
     prefixDir: 'remote', // root path used for namespace
     subfolder: 'docs', // subfolder within your branch containing the docs, typically 'docs'
     repo: 'github.com/jpmorganchase/mosaic.git', // repo url without any protocol
     branch: 'main', // branch where docs are pulled from
     extensions: ['.mdx'], // extensions of content which should be pulled
     remote: 'origin' // what is the shorthand name of the remote repo, typically 'origin'
   }
 }
]
```

Next, navigate to your new site directory:

```bash
cd my-sample-site
```

## Step 2: Serve the site

The example site you have generated comes preconfigured with two [sources](../configure/sources/index): a remote repository and a local docs folder. Sources are used by Mosaic to pull content from disparate locations and merge them into a single virtual filesystem that can be used by a Mosaic site.

### Set up Git credentials

If you want the site to read from remote repositories, you need to set up an environment variable to store your Git credentials. Follow these steps:

1. Open a terminal or command prompt.

2. Replace `<repo_username>` and `<personal_access_token>` in the following commands with your actual Git username and personal access token.

On Unix:

```bash
export MOSAIC_DOCS_CLONE_CREDENTIALS="<repo_username>:<personal_access_token>"
```

On Windows:

```bash
set MOSAIC_DOCS_CLONE_CREDENTIALS="<repo_username>:<personal_access_token>"
```

This sets the MOSAIC_DOCS_CLONE_CREDENTIALS environment variable with your Git credentials.

### Serve command

Now you can serve your Mosaic site by running the following command:

```bash
yarn serve
```

Access your Mosaic site from a browser using the following URLs:

- To browse the content from your local source: http://localhost:3000/local
- To browse the content from the Mosaic Git repo source: http://localhost:3000/mosaic

That's it! Your Mosaic site is now up and running.

## Next Steps:

1. [Deploy your Mosaic site to AWS or Vercel for production use.](../publish/index)
2. [Create more pages to expand your site's content.](../author/index)
3. [Configure your own sources in the mosaic.config.mjs file to pull content from different locations.](../configure/sources/index)
4. [Theme your site](../configure/theme/index)
